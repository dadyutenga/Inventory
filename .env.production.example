# =============================================================================
# PRODUCTION ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env.production and fill in real values:
#
#   cp .env.production.example .env.production
#
# Then run with:
#   docker compose --env-file .env.production up -d
#
# SECURITY: Never commit .env.production to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED SECRETS
# -----------------------------------------------------------------------------
# Generate with: docker run --rm ruby:3.3-alpine ruby -rsecurerandom -e 'puts SecureRandom.hex(64)'
SECRET_KEY_BASE=your_128_character_hex_secret_key_here

# Database password (use strong random password)
POSTGRES_PASSWORD=your_secure_database_password_here

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
POSTGRES_DB=inventory_production

# -----------------------------------------------------------------------------
# PUMA TUNING
# -----------------------------------------------------------------------------
# Workers (processes) - set based on available memory
# Rule: ~256MB per worker, so 1GB container = 3-4 workers
WEB_CONCURRENCY=2

# Threads per worker - affects DB pool size
RAILS_MAX_THREADS=3

# -----------------------------------------------------------------------------
# OPTIONAL
# -----------------------------------------------------------------------------
# Run Solid Queue in Puma (single-server deployments)
# SOLID_QUEUE_IN_PUMA=true

# External Redis URL (if not using compose redis service)
# REDIS_URL=redis://your-redis-host:6379/0
